{% extends 'base.html' %}

<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
{% block head %}
    <meta charset="UTF-8">
    <title>数据可视化</title>
    <script src="/static/dist/echarts.min.js"></script>
    <script src="/static/worldcloud.js"></script>
<!--    <script src="/static/echarts-wordcloud.min.js"></script>-->
{% endblock %}
<!--</head>-->
<body>
{% block content %}

<div id="main" style="width:60%;height: 500px; text-align: center;padding-top: 50px;margin-left: 200px"></div>
<script type="text/javascript">
    var content = {{ title|safe }};
    var score = {{ score|safe }};
//     var worldMapContainer = document.getElementById('main');
//     var resizeWorldMapContainer = function () {
//         worldMapContainer.style.width = window.innerWidth+'px';
//         worldMapContainer.style.height = window.innerHeight+'px';
//     };
// //设置容器高宽
//     resizeWorldMapContainer();
//
//     // 基于准备好的dom，初始化echarts实例
//     var myChart = echarts.init(worldMapContainer);
    var myChart = echarts.init(document.getElementById('main'));

    var labelRight = {
        normal: {
            position: 'right'
        }
    };

    option = {
        title: {
            text: '文章正负情感分析,0表示消极,1为积极,',
            subtext: 'From ExcelHome',
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        grid: {
            top: 80,
            bottom: 30
        },
        xAxis: {
            type: 'value',
            position: 'top',
            splitLine: {lineStyle: {type: 'dashed'},
            textStyle:{
                fontSize:40,
            },

            },
        },
        yAxis: {
            type: 'category',
            axisLine: {show: false},
            axisLabel: {show: false},
            axisTick: {show: false},
            textStyle:{fontSize:40,},
            splitLine: {show: false},
            data: content

        },
        series: [
            {
                name: '正负情感',
                type: 'bar',
                stack: '总量',
                label: {
                    normal: {
                        show: true,
                        formatter: '{b}'
                    }
                },
                data:score
            //         [
            //         {value: -0.07, label: labelRight},
            //         {value: -0.09, label: labelRight},
            //         0.2, 0.44,
            //         {value: -0.23, label: labelRight},
            //         0.08,
            //         {value: -0.17, label: labelRight},
            //         0.47,
            //         {value: -0.36, label: labelRight},
            //         0.18
            //     ]
            }
        ]
    };
    myChart.setOption(option);
//     window.onresize = function () {
//     //重置容器高宽
//     resizeWorldMapContainer();
//     myChart.resize();
// };
</script>


<div id="this" style="width: 90%;height:500px;text-align: center;padding-top: 50px;margin-left: 200px"></div>
<script type="application/javascript">
    var article = {{ article|safe }};
    var reward = {{ reward|safe }};
//     var worldMapContainer = document.getElementById('this');
//     var resizeWorldMapContainer = function () {
//         worldMapContainer.style.width = window.innerWidth+'px';
//         worldMapContainer.style.height = window.innerHeight+'px';
//     };
// //设置容器高宽
//     resizeWorldMapContainer();

    // 基于准备好的dom，初始
    // 化echarts实例
    var myChart = echarts.init(document.getElementById('this'));

    var labelRight = {
        normal: {
            position: 'right'
        }
    };

option = {
    title: {
        text: '赞赏数分析',
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'shadow'
        }
    },
    legend: {
        data: ['赞赏数目']
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis: {
        type: 'value',
        boundaryGap: [0, 0.01]
    },
    yAxis: {
        type: 'category',
        data: article
    },
    series: [
        {
            name: '',
            type: 'bar',
            data: reward
        }
    ]
};
    myChart.setOption(option);
//     window.onresize = function () {
//     //重置容器高宽
//     resizeWorldMapContainer();
//     myChart.resize();
// };
</script>


<div id="like" style="width: 90%;height:500px;text-align: center;padding-top: 50px;margin-left:200px"></div>
<script type="application/javascript">
    var article = {{ content|safe }};
    var reward = {{ like|safe }};
//     var worldMapContainer = document.getElementById('like');
//     var resizeWorldMapContainer = function () {
//         worldMapContainer.style.width = window.innerWidth+'px';
//         worldMapContainer.style.height = window.innerHeight+'px';
//     };
// //设置容器高宽
//     resizeWorldMapContainer();

    // 基于准备好的dom，初始
    // 化echarts实例
    var myChart = echarts.init(document.getElementById('like'));

    var labelRight = {
        normal: {
            position: 'right'
        }
    };

option = {
    title: {
        text: '点赞数量分析',
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'shadow'
        }
    },
    legend: {
        data: ['喜欢数目']
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis: {
        type: 'value',
        boundaryGap: [0, 0.01]
    },
    yAxis: {
        type: 'category',
        data: article
    },
    series: [
        {
            name: '',
            type: 'bar',
            data: reward
        }
    ]
};
    myChart.setOption(option);
//     window.onresize = function () {
//     //重置容器高宽
//     resizeWorldMapContainer();
//     myChart.resize();
// };
</script>



<div id="read" style="width: 90%;height:500px;text-align: center;padding-top: 50px;margin-left:200px"></div>
<script type="application/javascript">
    var article = {{ article1|safe }};
    var reward = {{ read|safe }};
//     var worldMapContainer = document.getElementById('read');
//     var resizeWorldMapContainer = function () {
//         worldMapContainer.style.width = window.innerWidth+'px';
//         worldMapContainer.style.height = window.innerHeight+'px';
//     };
// //设置容器高宽
//     resizeWorldMapContainer();

    // 基于准备好的dom，初始
    // 化echarts实例
    var myChart = echarts.init(document.getElementById('read'));

    var labelRight = {
        normal: {
            position: 'right'
        }
    };

option = {
    title: {
        text: '阅读量分析',
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'shadow'
        }
    },
    legend: {
        data: ['喜欢数目']
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis: {
        type: 'value',
        boundaryGap: [0, 0.01]
    },
    yAxis: {
        type: 'category',
        data: article
    },
    series: [
        {
            name: '',
            type: 'bar',
            data: reward
        }
    ]
};
    myChart.setOption(option);
//     window.onresize = function () {
//     //重置容器高宽
//     resizeWorldMapContainer();
//     myChart.resize();
// };
</script>

<div id="date" style="width: 90%;height:500px;text-align: center;padding-top: 50px;margin-left:200px"></div>
<script type="application/javascript">
    var article = {{ date|safe }};
    var reward = {{ read1|safe }};
//     var worldMapContainer = document.getElementById('date');
//     var resizeWorldMapContainer = function () {
//         worldMapContainer.style.width = window.innerWidth+'px';
//         worldMapContainer.style.height = window.innerHeight+'px';
//     };
// //设置容器高宽
//     resizeWorldMapContainer();

    // 基于准备好的dom，初始
    // 化echarts实例
    var myChart = echarts.init(document.getElementById('date'));

    var labelRight = {
        normal: {
            position: 'right'
        }
    };
var colors = ['#5793f3', '#d14a61', '#675bba'];


option = {
    title: {
        text:'文章阅读量变化曲线'
    },
    color: colors,

    tooltip: {
        trigger: 'none',
        axisPointer: {
            type: 'cross'
        }
    },
    legend: {
        data:['2015 降水量']
    },
    grid: {
        top: 70,
        bottom: 50
    },
    xAxis: [
        {
            type: 'category',
            axisTick: {
                alignWithLabel: true
            },
            axisLine: {
                onZero: false,
                lineStyle: {
                    color: colors[0]
                }
            },
            axisPointer: {
                label: {
                    formatter: function (params) {
                        return '阅读量  ' + params.value
                            + (params.seriesData.length ? '：' + params.seriesData[0].data : '');
                    }
                }
            },
            data: article
        }
    ],
    yAxis: [
        {
            type: 'value'
        }
    ],
    series: [
        {
            name:'阅读量',
            type:'line',
            xAxisIndex: 0,
            smooth: true,
            data: reward
        }
    ]
};
    myChart.setOption(option);
//     window.onresize = function () {
//     //重置容器高宽
//     resizeWorldMapContainer();
//     myChart.resize();
// };
</script>



<div id="scatter" style="width: 90%;height:500px;text-align: center;padding-top: 50px;margin-left:200px"></div>
<script type="application/javascript">
    var article = {{ like_all|safe }};
    // var worldMapContainer = document.getElementById('scatter');
    // var resizeWorldMapContainer = function () {
    //     worldMapContainer.style.width = window.innerWidth+'px';
    //     worldMapContainer.style.height = window.innerHeight+'px';
    // };
//设置容器高宽
//     resizeWorldMapContainer();

    // 基于准备好的dom，初始
    // 化echarts实例
    var myChart = echarts.init(document.getElementById('scatter'));

    var labelRight = {
        normal: {
            position: 'right'
        }
    };
option = {
    title:{
      text:'文章阅读量与赞赏数目散点图,横轴表示赞赏数,纵轴为阅读数量'
    },
    xAxis: {},
    yAxis: {},
    series: [{
        symbolSize: 10,
        data: article,
        type: 'scatter'
    }]
};


    myChart.setOption(option);

</script>
<div id="word" style="width: 90%;height:500px;text-align: center;padding-top: 50px;margin-left:200px"></div>
<script type="application/javascript">
    var wordlist = {{ wordlist|safe }};
        var myChart = echarts.init(document.getElementById('word'));

    option = {
		tooltip : {},
		series : [ {
			type : 'wordCloud',
			shape:'pentagon',
			gridSize : 2,
			sizeRange : [ 80, 100 ],
			rotationRange : [ -90, 90 ],
			textStyle : {
				normal : {
					color : function() {
						return 'rgb('
								+ [ Math.round(Math.random() * 255),
										Math.round(Math.random() * 255),
										Math.round(Math.random() * 255) ]
										.join(',') + ')';
					}
				},
				emphasis : {
					shadowBlur : 10,
					shadowColor : '#ffff00'
				}
			},
			data : wordlist,
		} ]
	}



    myChart.setOption(option);


</script>
{% endblock %}

<!--</body>-->
<!--</html>-->